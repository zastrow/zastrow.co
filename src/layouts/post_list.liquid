---
layout-name: post_list
pagination:
  data: collections.posts
  size: 10
  alias: posts
  reverse: true
permalink: "posts/{% if pagination.pageNumber > 0 %}{{ pagination.pageNumber | plus: 1 }}/{% endif %}index.html"
---
{% layout "default-layout" %}

{%- block skip_links %}
{% endblock -%}

{%- block header %}
	{% include "header" %}
{% endblock -%}

{%- block main %}
<div class="obj-width-listing">
	<header>
		<h1 class="cmp-title">{{title}}</h1>
		{{if content}}
		<div>
			{{ content }}
		</div>
		{{end}}
		{% include 'pagination' %}
	</header>
	{%- for post in posts -%}
		<article>
			<header>
				<h2>
					<a href="{{ post.url }}">
						{{ post.data.title }}
					</a>
				</h2>
				<p>
					<time datetime="{{ post.data.date | date: "%Y-%m-%d" }}" class="cmp-article-item__date">{{ post.data.date | date: "%d %B %Y" }}</time>
				</p>
			</header>
			{{ post.content }}
			{% if post.data.tags %}
				<footer>
					{% for tag in post.data.tags %}
						{% assign tagvar = tag | downcase %}
						{% if tagvar != 'post' %}
							<span>{{ tagvar }}</span>
						{% endif %}
					{% endfor %}
				</footer>
			{% endif %}
		</article>
	{% endfor %}
	{% include 'pagination' %}
</div>
{% endblock -%}
